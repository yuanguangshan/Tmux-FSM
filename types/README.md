# types 模块

## 模块职责概述

`types/` 是 **Tmux-FSM 的公共类型定义与基础数据结构模块**，负责定义整个系统中使用的公共类型、常量和基础数据结构。该模块为所有其他模块提供统一的类型系统和数据结构基础，确保类型安全和一致性。

主要职责包括：
- 定义系统范围的公共类型
- 提供基础数据结构的定义
- 维护类型安全和一致性
- 为各模块提供统一的类型接口

## 核心设计思想

- **类型安全**: 提供强类型的类型定义
- **统一标准**: 为整个系统提供统一类型标准
- **可复用性**: 定义可复用的基础数据结构
- **一致性**: 确保类型定义的一致性

## 文件结构说明

### `types.go`
- 核心类型定义
- 主要类型：
  - `ActorID`: 参与者标识符
  - `EventID`: 事件标识符
  - `PositionID`: 位置标识符
  - `CursorID`: 光标标识符
  - `SemanticEvent`: 语义事件
  - `Intent`: 意图类型
  - `Operation`: 操作类型
- 主要函数：
  - 类型的构造函数和验证函数
  - 类型转换和格式化函数
  - 比较和哈希函数
- 定义系统的核心类型

### `errors.go`
- 错误类型定义
- 主要类型：
  - `Error`: 基础错误类型
  - `ValidationError`: 验证错误
  - `ConsistencyError`: 一致性错误
  - `NotFoundError`: 未找到错误
- 主要函数：
  - 错误类型的构造函数
  - 错误分类和处理函数
- 定义系统的错误类型体系

### `constants.go`
- 常量定义
- 主要常量：
  - `MaxRetries`: 最大重试次数
  - `DefaultTimeout`: 默认超时时间
  - `BufferSize`: 缓冲区大小
  - `Version`: 系统版本
- 定义系统使用的各种常量值

### `interfaces.go`
- 接口定义
- 主要接口：
  - `Validator`: 验证器接口
  - `Serializer`: 序列化器接口
  - `Comparable`: 可比较接口
  - `Identifiable`: 可识别接口
- 定义系统中的公共接口

### `utils.go`
- 类型工具函数
- 主要函数：
  - `ValidateID(id string) error`: 验证标识符
  - `GenerateID() string`: 生成唯一标识符
  - `TimeString(t time.Time) string`: 时间格式化
  - `DeepCopy(src, dst interface{}) error`: 深拷贝
- 提供类型相关的工具函数

## 类型特性

### 统一性
- 整个系统使用统一的类型定义
- 避免类型重复定义
- 确保类型一致性

### 安全性
- 强类型检查
- 类型验证机制
- 安全的类型转换

### 可扩展性
- 支持类型扩展
- 可继承的类型设计
- 灵活的接口定义

## 在整体架构中的角色

Types 模块是系统的类型基础设施，它为所有其他模块提供统一的类型系统。Types 提供了：
- 统一的类型定义标准
- 类型安全的基础保障
- 可复用的基础数据结构
- 系统架构的类型一致性
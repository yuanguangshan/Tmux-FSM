# pkg 模块

## 模块职责概述

`pkg/` 是 **Tmux-FSM 的公共包和工具库**，负责存放可在项目外公开使用的公共库和工具函数。该模块包含了通用的工具类、实用函数和可复用的组件，遵循 Go 项目的标准约定，将可导出的公共功能放在 pkg 目录下。

主要职责包括：
- 存放可公开使用的公共库
- 提供通用的工具函数
- 包含可复用的组件和算法
- 维护项目外可引用的公共接口

## 核心设计思想

- **可复用性**: 提供可在项目外复用的功能
- **通用性**: 包含通用的工具和算法
- **稳定性**: 提供稳定的公共接口
- **标准化**: 遵循 Go 项目的标准约定

## 文件结构说明

### `utils/`
- 通用工具函数
- 主要内容：
  - `string_utils.go`: 字符串处理工具
  - `slice_utils.go`: 切片操作工具
  - `time_utils.go`: 时间处理工具
  - `file_utils.go`: 文件操作工具
  - `crypto_utils.go`: 加密相关工具
- 提供常用的通用工具函数

### `common/`
- 通用组件和类型
- 主要内容：
  - `result.go`: Result 类型定义
  - `option.go`: Option 类型定义
  - `async.go`: 异步操作工具
  - `config.go`: 配置处理工具
- 提供通用的数据结构和组件

### `validation/`
- 验证工具
- 主要内容：
  - `validator.go`: 通用验证器
  - `rules.go`: 验证规则定义
  - `custom_validators.go`: 自定义验证器
- 提供数据验证功能

### `serialization/`
- 序列化工具
- 主要内容：
  - `json_utils.go`: JSON 序列化工具
  - `binary_utils.go`: 二进制序列化工具
  - `codec.go`: 编解码器
- 提供数据序列化功能

### `metrics/`
- 指标收集工具
- 主要内容：
  - `counter.go`: 计数器
  - `gauge.go`: 仪表盘
  - `histogram.go`: 直方图
  - `collector.go`: 指标收集器
- 提供系统指标收集功能

## 包特性

### 可导出性
- 所有功能都可被外部项目使用
- 提供稳定的 API 接口
- 遵循向后兼容性原则

### 通用性
- 不依赖项目特定的实现
- 可独立使用的工具函数
- 通用的数据结构和算法

### 高质量
- 完善的单元测试覆盖
- 详细的文档说明
- 性能优化的实现

## 在整体架构中的角色

Pkg 模块是项目的公共库层，它提供了可被外部使用的通用功能。Pkg 提供了：
- 可复用的通用工具
- 稳定的公共接口
- 高质量的通用组件
- 项目外可引用的功能库